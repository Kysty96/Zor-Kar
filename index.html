<!DOCTYPE html>
<html lang="cs">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Planeta Zor'Kar</title>
    <link rel="stylesheet" href="styles.css">
    <style>
        /* Efekt blikÃ¡nÃ­ */
        @keyframes flicker {
            0% { opacity: 1; }
            10% { opacity: 0.2; }
            20% { opacity: 0.8; }
            30% { opacity: 0.3; }
            40% { opacity: 0.9; }
            50% { opacity: 0.1; }
            60% { opacity: 1; }
            70% { opacity: 0.4; }
            80% { opacity: 1; }
            90% { opacity: 0.5; }
            100% { opacity: 1; }
        }
        .flicker-effect {
            animation: flicker 0.2s infinite;
        }
    </style>
</head>
<body>

    <!-- TlaÄÃ­tko pro zobrazenÃ­ textu -->
    <button class="enter-button" id="enter-button">Vstup na planetu Zor'Kar</button>

    <!-- SkrytÃ½ obsah, kterÃ½ se zobrazÃ­ po kliknutÃ­ -->
    <div class="content" id="content" style="display: none;">
        <h1>VÃ­tej na planetÄ› Zor'Kar!</h1>
        <p id="story-text">
            <span>Kdesi</span> <span>v</span> <span>hlubokÃ©m</span> <span>vesmÃ­ru,</span>  
            <span>za</span> <span>mlhovinami</span> <span>zapomenutÃ½ch</span> <span>hvÄ›zd,</span>  
            <span>se</span> <span>nachÃ¡zÃ­</span> <span>planeta</span> <span>Zorâ€™Kar.</span>  
            <span>SvÄ›t</span> <span>plnÃ½</span> <span>tajemnÃ©</span> <span>energie,</span>  
            <span>kterou</span> <span>jejÃ­</span> <span>obyvatelÃ©</span> <span>nazÃ½vajÃ­</span> <span>Essentia.</span>  
            <span>Tato</span> <span>sÃ­la</span> <span>dala</span> <span>vzniknout</span> <span>jednÃ©</span> <span>z</span> <span>nejmocnÄ›jÅ¡Ã­ch</span> <span>civilizacÃ­</span> <span>v</span> <span>galaxii</span> <span>â€“</span> <span>rasÃ¡m</span> <span>vÃ¡leÄnÃ­kÅ¯,</span> <span>uÄencÅ¯</span> <span>a</span> <span>mystikÅ¯,</span> <span>kteÅ™Ã­</span> <span>Å¾ili</span> <span>v</span> <span>harmonii</span> <span>s</span> <span>energiÃ­</span> <span>svÃ©ho</span> <span>svÄ›ta.</span>

            <span>Ale</span> <span>klid</span> <span>netrvÃ¡</span> <span>vÄ›ÄnÄ›â€¦</span>  
            <span>Z</span> <span>temnÃ½ch</span> <span>koutÅ¯</span> <span>kosmu</span>  
            <span>pÅ™ichÃ¡zÃ­</span> <span>hrozba.</span>  
            <span>NepÅ™Ã¡telskÃ¡</span> <span>Å™Ã­Å¡e</span> <span>Xelâ€™Thar</span>  
            <span>se</span> <span>snaÅ¾Ã­</span> <span>pohltit</span> <span>Essentii</span>  
            <span>a</span> <span>zniÄit</span> <span>rovnovÃ¡hu</span> <span>planety.</span>  
            <span>Proto</span> <span>byli</span> <span>povolÃ¡ni</span> <span>nejvÄ›tÅ¡Ã­</span> <span>hrdinovÃ©</span> <span>Zorâ€™Kar</span> <span>â€“</span> <span>vÃ¡leÄnÃ­ci,</span> <span>kovÃ¡Å™i,</span> <span>luÄiÅ¡nÃ­ci,</span> <span>vÄ›dci</span> <span>i</span> <span>Å¡amani.</span>  
            <span>KaÅ¾dÃ½</span> <span>mÃ¡</span> <span>svÃ©</span> <span>mÃ­sto</span> <span>v</span> <span>tÃ©to</span> <span>epickÃ©</span> <span>bitvÄ›</span> <span>o</span> <span>pÅ™eÅ¾itÃ­.</span>

            <span>Toto</span> <span>je</span> <span>tvÅ¯j</span> <span>pÅ™Ã­bÄ›h.</span>  
            <span>Vydej</span> <span>se</span> <span>na</span> <span>cestu</span> <span>sbÄ›ru</span> <span>bytostÃ­,</span>  
            <span>sestav</span> <span>svou</span> <span>vlastnÃ­</span> <span>armÃ¡du</span> <span>a</span> <span>objev</span> <span>osud</span> <span>Zorâ€™Kar!</span>
        </p>
    </div>

    <!-- Zvuky psanÃ­ -->
    <audio id="typewriter-sound-1" src="https://introduction2.github.io/Zor-Kar/zapsplat_technology_computer_laptop_typing_001_99980.mp3"></audio>
    <audio id="typewriter-sound-2" src="https://introduction2.github.io/Zor-Kar/zapsplat_technology_computer_laptop_typing_004_99983.mp3"></audio>
    <audio id="typewriter-sound-3" src="https://introduction2.github.io/Zor-Kar/zapsplat_technology_computer_laptop_typing_003_99982.mp3"></audio>

    <!-- Zvuk zÃ¡Å™ivky -->
    <audio id="fluorescent-light-sound" src="https://introduction2.github.io/Zor-Kar/zapsplat_household_fluorescent_bulb_light_on_starter_hum_buzz_004_111459.mp3"></audio>

   <script>
    document.getElementById("enter-button").addEventListener("click", function() {
        this.style.display = "none"; 
        const content = document.getElementById("content");
        content.style.display = "block"; 
        
        const words = document.querySelectorAll("#story-text span");
        words.forEach(word => word.style.opacity = "0");

        const sounds = [
            document.getElementById("typewriter-sound-1"),
            document.getElementById("typewriter-sound-2"),
            document.getElementById("typewriter-sound-3")
        ];

        const fluorescentSound = document.getElementById("fluorescent-light-sound");

        // **ğŸ”´ HACK pro iOS Safari** â€“ zahrajeme zvuk hned pÅ™i prvnÃ­m kliknutÃ­, ale ihned ho zastavÃ­me.
        fluorescentSound.play().then(() => {
            fluorescentSound.pause();
            fluorescentSound.currentTime = 0;
        }).catch(error => console.warn("Zvuk zÃ¡Å™ivky byl blokovÃ¡n:", error));

        function playSound() {
            const sound = sounds[Math.floor(Math.random() * sounds.length)];
            sound.currentTime = 0;
            sound.play();
        }

        let currentIndex = 0;
        function showWords() {
            if (currentIndex < words.length) {
                words[currentIndex].style.opacity = "1";
                playSound();
                currentIndex++;
                setTimeout(showWords, 150);
            } else {
                stopSounds();
                setTimeout(startBlinking, 1000);
            }
        }

        function stopSounds() {
            sounds.forEach(sound => {
                sound.pause();
                sound.currentTime = 0;
            });
        }

        function startBlinking() {
            // **Znovu spustÃ­me zvuk zÃ¡Å™ivky, tentokrÃ¡t to uÅ¾ iOS povolÃ­**
            fluorescentSound.currentTime = 0;
            fluorescentSound.play().catch(error => console.warn("Zvuk zÃ¡Å™ivky byl blokovÃ¡n:", error));

            // BlikÃ¡nÃ­ textu
            let blinkCount = 0;
            const blinkInterval = setInterval(() => {
                content.style.opacity = (content.style.opacity === "1") ? "0" : "1";
                blinkCount++;
                if (blinkCount >= 6) { 
                    clearInterval(blinkInterval);
                    content.style.opacity = "1"; 
                }
            }, 500);
        }

        showWords();
    });
</script>