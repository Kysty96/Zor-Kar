<!DOCTYPE html>
<html lang="cs">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Planeta Zor'Kar</title>
    <link rel="stylesheet" href="styles.css">
</head>
<body>

    <!-- Zvuky psaní -->
    <audio id="typewriter-sound-1" src="keyboard1.mp3"></audio>
    <audio id="typewriter-sound-2" src="keyboard2.mp3"></audio>
    <audio id="typewriter-sound-3" src="keyboard3.mp3"></audio>

    <button class="enter-button" id="enter-button">Vstup na planetu Zor'Kar</button>

    <div class="content" id="content">
        <h1 id="title">Vítej!!!</h1>
        <p class="animated-text" id="story-text">
            <span>Kdesi</span> <span>v</span> <span>hlubokém</span> <span>vesmíru,</span>  
            <span>za</span> <span>mlhovinami</span> <span>zapomenutých</span> <span>hvězd,</span>  
            <span>se</span> <span>nachází</span> <span>planeta</span> <span>Zor’Kar.</span>  
            <span>Svět</span> <span>plný</span> <span>tajemné</span> <span>energie,</span>  
            <span>kterou</span> <span>její</span> <span>obyvatelé</span> <span>nazývají</span> <span>Essentia.</span>  

            <span>Ale</span> <span>klid</span> <span>netrvá</span> <span>věčně…</span>  
            <span>Z</span> <span>temných</span> <span>koutů</span> <span>kosmu</span>  
            <span>přichází</span> <span>hrozba.</span>  
            <span>Nepřátelská</span> <span>říše</span> <span>Xel’Thar</span>  
            <span>se</span> <span>snaží</span> <span>pohltit</span> <span>Essentii</span>  
            <span>a</span> <span>zničit</span> <span>rovnováhu</span> <span>planety.</span>  
        </p>
    </div>

    <script>
        document.getElementById("enter-button").addEventListener("click", function () {
            let sound1 = document.getElementById("typewriter-sound-1");
            
            // Spustíme tichý zvuk, aby se odblokovalo přehrávání
            sound1.play().then(() => {
                sound1.pause();
                sound1.currentTime = 0;
                startStory();
            }).catch(error => console.log("Zvuk blokován:", error));
        });

        function startStory() {
            document.getElementById("enter-button").style.display = "none";
            const content = document.getElementById("content");
            content.style.display = "block";

            let words = document.querySelectorAll("#story-text span");
            let sounds = [
                document.getElementById("typewriter-sound-1"),
                document.getElementById("typewriter-sound-2"),
                document.getElementById("typewriter-sound-3")
            ];

            function showWords(index) {
                if (index < words.length) {
                    words[index].style.opacity = "1";

                    let sound = sounds[Math.floor(Math.random() * sounds.length)];
                    sound.currentTime = 0;
                    sound.play();

                    setTimeout(() => showWords(index + 1), 150);
                } else {
                    sounds.forEach(sound => {
                        sound.pause();
                        sound.currentTime = 0;
                    });

                    // Po zobrazení celého textu zmizení na 3 sekundy
                    setTimeout(() => {
                        content.style.opacity = "0";
                        setTimeout(startBlinking, 3000);
                    }, 1000);
                }
            }

            function startBlinking() {
                content.style.opacity = "1";
                content.classList.add("blinking");
                setTimeout(() => {
                    content.classList.remove("blinking");
                }, 3000);
            }

            showWords(0);
        }
    </script>

</body>
</html>